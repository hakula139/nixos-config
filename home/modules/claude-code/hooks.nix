# ==============================================================================
# Claude Code Hooks
# ==============================================================================

{
  PostToolUse = [
    # --------------------------------------------------------------------------
    # Nix formatting
    # --------------------------------------------------------------------------
    {
      matcher = "Edit|Write";
      hooks = [
        {
          type = "command";
          command = ''
            for file in $CLAUDE_FILE_PATHS; do
              if [[ "$file" == *.nix ]]; then
                nix fmt "$file" 2>/dev/null || true
              fi
            done
          '';
        }
      ];
    }
  ];
}
