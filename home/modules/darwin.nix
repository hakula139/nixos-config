{
  pkgs,
  lib,
  ...
}:

# ==============================================================================
# Darwin (macOS) Environment
# ==============================================================================

lib.mkIf pkgs.stdenv.isDarwin {
  # ============================================================================
  # Environment Variables (macOS)
  # ============================================================================
  home.sessionVariables = { };

  # ============================================================================
  # PATH additions (macOS)
  # ============================================================================
  home.sessionPath = [
    "/opt/homebrew/bin"
  ];

  # ============================================================================
  # Shell Configuration (macOS)
  # ============================================================================
  programs.zsh.initContent = lib.mkAfter ''
    # --------------------------------------------------------------------------
    # Homebrew Environment
    # --------------------------------------------------------------------------
    if [[ -x /opt/homebrew/bin/brew ]]; then
      eval "$(/opt/homebrew/bin/brew shellenv)"
    fi
  '';
}
